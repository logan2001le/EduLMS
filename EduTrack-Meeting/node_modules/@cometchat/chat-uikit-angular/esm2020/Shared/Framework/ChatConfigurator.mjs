import { MessageUtils } from "../Utils/MessageUtils";
export class ChatConfigurator {
    static init(initialSource) {
        this.dataSource = initialSource ?? new MessageUtils();
        this.names.push(this.dataSource.getId());
    }
    static enable(callback) {
        let oldSource = this.dataSource;
        let newSource = callback(oldSource);
        if (!this.names.find((nm) => nm == newSource.getId())) {
            this.dataSource = newSource;
            this.names.push(this.dataSource.getId());
        }
    }
    static getDataSource() {
        return this.dataSource;
    }
}
ChatConfigurator.names = ["message utils"];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2hhdENvbmZpZ3VyYXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2NoYXQtdWlraXQtYW5ndWxhci9zcmMvU2hhcmVkL0ZyYW1ld29yay9DaGF0Q29uZmlndXJhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUdyRCxNQUFNLE9BQU8sZ0JBQWdCO0lBSTNCLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBMEI7UUFDcEMsSUFBSSxDQUFDLFVBQVUsR0FBRyxhQUFhLElBQUksSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUN0RCxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7SUFDM0MsQ0FBQztJQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBZ0Q7UUFDNUQsSUFBSSxTQUFTLEdBQWUsSUFBSSxDQUFDLFVBQVUsQ0FBQztRQUM1QyxJQUFJLFNBQVMsR0FBZSxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDaEQsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUU7WUFDckQsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7WUFDNUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1NBQzFDO0lBQ0gsQ0FBQztJQUVELE1BQU0sQ0FBQyxhQUFhO1FBQ2xCLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUN6QixDQUFDOztBQWxCTSxzQkFBSyxHQUFrQixDQUFDLGVBQWUsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWVzc2FnZVV0aWxzIH0gZnJvbSBcIi4uL1V0aWxzL01lc3NhZ2VVdGlsc1wiO1xuaW1wb3J0IHsgRGF0YVNvdXJjZSB9IGZyb20gXCIuL0RhdGFTb3VyY2VcIjtcblxuZXhwb3J0IGNsYXNzIENoYXRDb25maWd1cmF0b3Ige1xuICBzdGF0aWMgZGF0YVNvdXJjZTogRGF0YVNvdXJjZTtcbiAgc3RhdGljIG5hbWVzOiBBcnJheTxzdHJpbmc+ID0gW1wibWVzc2FnZSB1dGlsc1wiXTtcblxuICBzdGF0aWMgaW5pdChpbml0aWFsU291cmNlPzogRGF0YVNvdXJjZSkge1xuICAgIHRoaXMuZGF0YVNvdXJjZSA9IGluaXRpYWxTb3VyY2UgPz8gbmV3IE1lc3NhZ2VVdGlscygpO1xuICAgIHRoaXMubmFtZXMucHVzaCh0aGlzLmRhdGFTb3VyY2UuZ2V0SWQoKSk7XG4gIH1cblxuICBzdGF0aWMgZW5hYmxlKGNhbGxiYWNrOiAoZGF0YVNvdXJjZTogRGF0YVNvdXJjZSkgPT4gRGF0YVNvdXJjZSkge1xuICAgIGxldCBvbGRTb3VyY2U6IERhdGFTb3VyY2UgPSB0aGlzLmRhdGFTb3VyY2U7XG4gICAgbGV0IG5ld1NvdXJjZTogRGF0YVNvdXJjZSA9IGNhbGxiYWNrKG9sZFNvdXJjZSk7XG4gICAgaWYgKCF0aGlzLm5hbWVzLmZpbmQoKG5tKSA9PiBubSA9PSBuZXdTb3VyY2UuZ2V0SWQoKSkpIHtcbiAgICAgIHRoaXMuZGF0YVNvdXJjZSA9IG5ld1NvdXJjZTtcbiAgICAgIHRoaXMubmFtZXMucHVzaCh0aGlzLmRhdGFTb3VyY2UuZ2V0SWQoKSk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldERhdGFTb3VyY2UoKTogRGF0YVNvdXJjZSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YVNvdXJjZTtcbiAgfVxufVxuIl19
import { ExtensionsDataSource, ExtensionsId } from "@cometchat/uikit-shared";
import { ChatConfigurator } from "../../Shared/Framework/ChatConfigurator";
import { TextModeratorExtensionDecorator } from "./TextModeratorExtensionDecorator";
import { CometChat } from "@cometchat/chat-sdk-javascript";
export class TextModeratorExtension extends ExtensionsDataSource {
    addExtension() {
        ChatConfigurator.enable((dataSource) => new TextModeratorExtensionDecorator(dataSource));
    }
    getExtensionId() {
        return ExtensionsId.profanityFilter;
    }
    enable() {
        const promise1 = CometChat.isExtensionEnabled(ExtensionsId.profanityFilter);
        const promise2 = CometChat.isExtensionEnabled(ExtensionsId.dataMasking);
        Promise.all([promise1, promise2]).then((values) => {
            if (values.includes(true)) {
                this.addExtension();
            }
        });
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGV4dE1vZGVyYXRvckV4dGVuc2lvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2NoYXQtdWlraXQtYW5ndWxhci9zcmMvRXh0ZW5zaW9ucy9UZXh0TW9kZXJhdG9yL1RleHRNb2RlcmF0b3JFeHRlbnNpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFZLG9CQUFvQixFQUFDLFlBQVksRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ3RGLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHlDQUF5QyxDQUFDO0FBQzNFLE9BQU8sRUFBRSwrQkFBK0IsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBRXBGLE9BQU8sRUFBQyxTQUFTLEVBQUMsTUFBTSxnQ0FBZ0MsQ0FBQztBQUN6RCxNQUFNLE9BQU8sc0JBQXVCLFNBQVEsb0JBQW9CO0lBQ3JELFlBQVk7UUFDbkIsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUMsVUFBZSxFQUFFLEVBQUUsQ0FBQyxJQUFJLCtCQUErQixDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFDaEcsQ0FBQztJQUNRLGNBQWM7UUFDckIsT0FBTyxZQUFZLENBQUMsZUFBZSxDQUFDO0lBQ3RDLENBQUM7SUFDUSxNQUFNO1FBQ2IsTUFBTSxRQUFRLEdBQUcsU0FBUyxDQUFDLGtCQUFrQixDQUFDLFlBQVksQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUM1RSxNQUFNLFFBQVEsR0FBRyxTQUFTLENBQUMsa0JBQWtCLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3hFLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRTtZQUNoRCxJQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQ3hCO2dCQUNFLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQzthQUNyQjtRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZVN0eWxlLEV4dGVuc2lvbnNEYXRhU291cmNlLEV4dGVuc2lvbnNJZCB9IGZyb20gXCJAY29tZXRjaGF0L3Vpa2l0LXNoYXJlZFwiO1xuaW1wb3J0IHsgQ2hhdENvbmZpZ3VyYXRvciB9IGZyb20gXCIuLi8uLi9TaGFyZWQvRnJhbWV3b3JrL0NoYXRDb25maWd1cmF0b3JcIjtcbmltcG9ydCB7IFRleHRNb2RlcmF0b3JFeHRlbnNpb25EZWNvcmF0b3IgfSBmcm9tIFwiLi9UZXh0TW9kZXJhdG9yRXh0ZW5zaW9uRGVjb3JhdG9yXCI7XG5pbXBvcnQge01lc3NhZ2VUcmFuc2xhdGlvbkNvbmZpZ3VyYXRpb259IGZyb20gJ0Bjb21ldGNoYXQvdWlraXQtc2hhcmVkJ1xuaW1wb3J0IHtDb21ldENoYXR9IGZyb20gXCJAY29tZXRjaGF0L2NoYXQtc2RrLWphdmFzY3JpcHRcIjtcbmV4cG9ydCBjbGFzcyBUZXh0TW9kZXJhdG9yRXh0ZW5zaW9uIGV4dGVuZHMgRXh0ZW5zaW9uc0RhdGFTb3VyY2Uge1xuICBvdmVycmlkZSBhZGRFeHRlbnNpb24oKTogdm9pZCB7XG4gICAgQ2hhdENvbmZpZ3VyYXRvci5lbmFibGUoKGRhdGFTb3VyY2U6IGFueSkgPT4gbmV3IFRleHRNb2RlcmF0b3JFeHRlbnNpb25EZWNvcmF0b3IoZGF0YVNvdXJjZSkpO1xuICB9XG4gIG92ZXJyaWRlIGdldEV4dGVuc2lvbklkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIEV4dGVuc2lvbnNJZC5wcm9mYW5pdHlGaWx0ZXI7XG4gIH1cbiAgb3ZlcnJpZGUgZW5hYmxlKCk6dm9pZHtcbiAgICBjb25zdCBwcm9taXNlMSA9IENvbWV0Q2hhdC5pc0V4dGVuc2lvbkVuYWJsZWQoRXh0ZW5zaW9uc0lkLnByb2Zhbml0eUZpbHRlcik7XG4gICAgY29uc3QgcHJvbWlzZTIgPSBDb21ldENoYXQuaXNFeHRlbnNpb25FbmFibGVkKEV4dGVuc2lvbnNJZC5kYXRhTWFza2luZyk7XG4gICAgUHJvbWlzZS5hbGwoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oKHZhbHVlcykgPT4ge1xuICAgICAgaWYodmFsdWVzLmluY2x1ZGVzKHRydWUpKVxuICAgICAge1xuICAgICAgICB0aGlzLmFkZEV4dGVuc2lvbigpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbiJdfQ==
import { DataSourceDecorator } from "../../Shared/Framework/DataSourceDecorator";
import { CometChatMessageComposerAction, fontHelper, localize, } from "@cometchat/uikit-resources";
export class AIConversationSummaryDecorator extends DataSourceDecorator {
    constructor(dataSource) {
        super(dataSource);
        this.newDataSource = dataSource;
    }
    getId() {
        return "aiconversationsummary";
    }
    getAIOptions(theme, id, aiOptionsStyles) {
        if (!id?.parentMessageId) {
            const messageComposerActions = super.getAIOptions(theme, id, aiOptionsStyles);
            let newAction = new CometChatMessageComposerAction({
                title: localize("GENERATE_SUMMARY"),
                id: "ai-conversation-summary",
                iconURL: "",
                iconTint: "",
                titleColor: aiOptionsStyles?.listItemTextColor || theme.palette.getAccent600(),
                titleFont: aiOptionsStyles?.listItemTextFont ||
                    fontHelper(theme.typography.subtitle1),
                background: aiOptionsStyles?.listItemBackground || theme.palette.getAccent100(),
            });
            messageComposerActions.push(newAction);
            return messageComposerActions;
        }
        else {
            return super.getAIOptions(theme, id, aiOptionsStyles);
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQUlDb252ZXJzYXRpb25TdW1tYXJ5RGVjb3JhdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvY2hhdC11aWtpdC1hbmd1bGFyL3NyYy9BSS9BSUNvbnZlcnNhdGlvblN1bW1hcnkvQUlDb252ZXJzYXRpb25TdW1tYXJ5RGVjb3JhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLDRDQUE0QyxDQUFDO0FBQ2pGLE9BQU8sRUFFTCw4QkFBOEIsRUFFOUIsVUFBVSxFQUNWLFFBQVEsR0FDVCxNQUFNLDRCQUE0QixDQUFDO0FBRXBDLE1BQU0sT0FBTyw4QkFBK0IsU0FBUSxtQkFBbUI7SUFHckUsWUFBWSxVQUFzQjtRQUNoQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDbEIsSUFBSSxDQUFDLGFBQWEsR0FBRyxVQUFVLENBQUM7SUFDbEMsQ0FBQztJQUNRLEtBQUs7UUFDWixPQUFPLHVCQUF1QixDQUFDO0lBQ2pDLENBQUM7SUFFUSxZQUFZLENBQ25CLEtBQXFCLEVBQ3JCLEVBQVEsRUFDUixlQUFnQztRQUVoQyxJQUFJLENBQUMsRUFBRSxFQUFFLGVBQWUsRUFBRTtZQUN4QixNQUFNLHNCQUFzQixHQUd0QixLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxFQUFFLEVBQUUsZUFBZSxDQUFDLENBQUM7WUFDckQsSUFBSSxTQUFTLEdBQ1gsSUFBSSw4QkFBOEIsQ0FBQztnQkFDakMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQztnQkFDbkMsRUFBRSxFQUFFLHlCQUF5QjtnQkFDN0IsT0FBTyxFQUFFLEVBQUU7Z0JBQ1gsUUFBUSxFQUFFLEVBQUU7Z0JBQ1osVUFBVSxFQUNSLGVBQWUsRUFBRSxpQkFBaUIsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRTtnQkFDcEUsU0FBUyxFQUNQLGVBQWUsRUFBRSxnQkFBZ0I7b0JBQ2pDLFVBQVUsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQztnQkFDeEMsVUFBVSxFQUNSLGVBQWUsRUFBRSxrQkFBa0IsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRTthQUN0RSxDQUFDLENBQUM7WUFDTCxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDdkMsT0FBTyxzQkFBc0IsQ0FBQztTQUMvQjthQUFNO1lBQ0wsT0FBTyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxFQUFFLEVBQUUsZUFBZSxDQUFDLENBQUM7U0FDdkQ7SUFDSCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBSUNvbnZlcnNhdGlvblN0YXJ0ZXJDb25maWd1cmF0aW9uLFxuICBBSU9wdGlvbnNTdHlsZSxcbn0gZnJvbSBcIkBjb21ldGNoYXQvdWlraXQtc2hhcmVkXCI7XG5pbXBvcnQgeyBEYXRhU291cmNlIH0gZnJvbSBcIi4uLy4uL1NoYXJlZC9GcmFtZXdvcmsvRGF0YVNvdXJjZVwiO1xuaW1wb3J0IHsgRGF0YVNvdXJjZURlY29yYXRvciB9IGZyb20gXCIuLi8uLi9TaGFyZWQvRnJhbWV3b3JrL0RhdGFTb3VyY2VEZWNvcmF0b3JcIjtcbmltcG9ydCB7XG4gIENvbWV0Q2hhdEFjdGlvbnNWaWV3LFxuICBDb21ldENoYXRNZXNzYWdlQ29tcG9zZXJBY3Rpb24sXG4gIENvbWV0Q2hhdFRoZW1lLFxuICBmb250SGVscGVyLFxuICBsb2NhbGl6ZSxcbn0gZnJvbSBcIkBjb21ldGNoYXQvdWlraXQtcmVzb3VyY2VzXCI7XG5cbmV4cG9ydCBjbGFzcyBBSUNvbnZlcnNhdGlvblN1bW1hcnlEZWNvcmF0b3IgZXh0ZW5kcyBEYXRhU291cmNlRGVjb3JhdG9yIHtcbiAgcHVibGljIG5ld0RhdGFTb3VyY2UhOiBEYXRhU291cmNlO1xuXG4gIGNvbnN0cnVjdG9yKGRhdGFTb3VyY2U6IERhdGFTb3VyY2UpIHtcbiAgICBzdXBlcihkYXRhU291cmNlKTtcbiAgICB0aGlzLm5ld0RhdGFTb3VyY2UgPSBkYXRhU291cmNlO1xuICB9XG4gIG92ZXJyaWRlIGdldElkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiYWljb252ZXJzYXRpb25zdW1tYXJ5XCI7XG4gIH1cblxuICBvdmVycmlkZSBnZXRBSU9wdGlvbnMoXG4gICAgdGhlbWU6IENvbWV0Q2hhdFRoZW1lLFxuICAgIGlkPzogYW55LFxuICAgIGFpT3B0aW9uc1N0eWxlcz86IEFJT3B0aW9uc1N0eWxlXG4gICk6IChDb21ldENoYXRNZXNzYWdlQ29tcG9zZXJBY3Rpb24gfCBDb21ldENoYXRBY3Rpb25zVmlldylbXSB7XG4gICAgaWYgKCFpZD8ucGFyZW50TWVzc2FnZUlkKSB7XG4gICAgICBjb25zdCBtZXNzYWdlQ29tcG9zZXJBY3Rpb25zOiAoXG4gICAgICAgIHwgQ29tZXRDaGF0TWVzc2FnZUNvbXBvc2VyQWN0aW9uXG4gICAgICAgIHwgQ29tZXRDaGF0QWN0aW9uc1ZpZXdcbiAgICAgIClbXSA9IHN1cGVyLmdldEFJT3B0aW9ucyh0aGVtZSwgaWQsIGFpT3B0aW9uc1N0eWxlcyk7XG4gICAgICBsZXQgbmV3QWN0aW9uOiBDb21ldENoYXRNZXNzYWdlQ29tcG9zZXJBY3Rpb24gPVxuICAgICAgICBuZXcgQ29tZXRDaGF0TWVzc2FnZUNvbXBvc2VyQWN0aW9uKHtcbiAgICAgICAgICB0aXRsZTogbG9jYWxpemUoXCJHRU5FUkFURV9TVU1NQVJZXCIpLFxuICAgICAgICAgIGlkOiBcImFpLWNvbnZlcnNhdGlvbi1zdW1tYXJ5XCIsXG4gICAgICAgICAgaWNvblVSTDogXCJcIixcbiAgICAgICAgICBpY29uVGludDogXCJcIixcbiAgICAgICAgICB0aXRsZUNvbG9yOlxuICAgICAgICAgICAgYWlPcHRpb25zU3R5bGVzPy5saXN0SXRlbVRleHRDb2xvciB8fCB0aGVtZS5wYWxldHRlLmdldEFjY2VudDYwMCgpLFxuICAgICAgICAgIHRpdGxlRm9udDpcbiAgICAgICAgICAgIGFpT3B0aW9uc1N0eWxlcz8ubGlzdEl0ZW1UZXh0Rm9udCB8fFxuICAgICAgICAgICAgZm9udEhlbHBlcih0aGVtZS50eXBvZ3JhcGh5LnN1YnRpdGxlMSksXG4gICAgICAgICAgYmFja2dyb3VuZDpcbiAgICAgICAgICAgIGFpT3B0aW9uc1N0eWxlcz8ubGlzdEl0ZW1CYWNrZ3JvdW5kIHx8IHRoZW1lLnBhbGV0dGUuZ2V0QWNjZW50MTAwKCksXG4gICAgICAgIH0pO1xuICAgICAgbWVzc2FnZUNvbXBvc2VyQWN0aW9ucy5wdXNoKG5ld0FjdGlvbik7XG4gICAgICByZXR1cm4gbWVzc2FnZUNvbXBvc2VyQWN0aW9ucztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHN1cGVyLmdldEFJT3B0aW9ucyh0aGVtZSwgaWQsIGFpT3B0aW9uc1N0eWxlcyk7XG4gICAgfVxuICB9XG59XG4iXX0=